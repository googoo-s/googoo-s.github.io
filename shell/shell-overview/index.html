<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Shell 综述 所谓的Shell，就是运行在终端中的文本互动程序。Shell分析你的文本输入，然后把文本转换成相应的计算机动作。
在后面的内容中，我将用$来表示Linux系统Shell的命令提示符。比如说输入date命令：
1  $date   date用于日期时间的相关功能。敲击回车键Enter后，Shell会显示出系统当前的时间。
shell是Unix体系下的文本交互界面。你只需要用键盘来输入文本，就可以和操作系统交互。但这还是不够具体。说到底，Shell其实是一个运行着的程序。这个程序接收到你按下回车键之间的输入，就会对输入的文本进行分析。比如下面这个命令：
1  $free -h   包括空格在内总共7个字符。Shell程序会通过空格，区分出命令的不同部分
  第一个部分是命令名。"><meta property="og:title" content><meta property="og:description" content="Shell 综述 所谓的Shell，就是运行在终端中的文本互动程序。Shell分析你的文本输入，然后把文本转换成相应的计算机动作。
在后面的内容中，我将用$来表示Linux系统Shell的命令提示符。比如说输入date命令：
1  $date   date用于日期时间的相关功能。敲击回车键Enter后，Shell会显示出系统当前的时间。
shell是Unix体系下的文本交互界面。你只需要用键盘来输入文本，就可以和操作系统交互。但这还是不够具体。说到底，Shell其实是一个运行着的程序。这个程序接收到你按下回车键之间的输入，就会对输入的文本进行分析。比如下面这个命令：
1  $free -h   包括空格在内总共7个字符。Shell程序会通过空格，区分出命令的不同部分
  第一个部分是命令名。"><meta property="og:type" content="website"><meta property="og:image" content="https://googoo-s.github.io/icon.png"><meta property="og:url" content="https://googoo-s.github.io/shell/shell-overview/"><meta property="og:width" content="200"><meta property="og:height" content="200"><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="Shell 综述 所谓的Shell，就是运行在终端中的文本互动程序。Shell分析你的文本输入，然后把文本转换成相应的计算机动作。
在后面的内容中，我将用$来表示Linux系统Shell的命令提示符。比如说输入date命令：
1  $date   date用于日期时间的相关功能。敲击回车键Enter后，Shell会显示出系统当前的时间。
shell是Unix体系下的文本交互界面。你只需要用键盘来输入文本，就可以和操作系统交互。但这还是不够具体。说到底，Shell其实是一个运行着的程序。这个程序接收到你按下回车键之间的输入，就会对输入的文本进行分析。比如下面这个命令：
1  $free -h   包括空格在内总共7个字符。Shell程序会通过空格，区分出命令的不同部分
  第一个部分是命令名。"><meta name=twitter:image content="https://googoo-s.github.io/icon.png"><title>googoo-s</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://googoo-s.github.io//icon.png><link href=https://googoo-s.github.io/styles.19109a40042e9f0e72e952fda4442a34.min.css rel=stylesheet><link href=https://googoo-s.github.io/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://googoo-s.github.io/js/darkmode.953af745b0f9342644d632fc167f3727.min.js></script>
<script src=https://googoo-s.github.io/js/util.00639692264b21bc3ee219733d38a8be.min.js></script>
<link rel=preload href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css as=style onload='this.onload=null,this.rel="stylesheet"' integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@floating-ui/core@1.2.1></script>
<script src=https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.2.1></script>
<script defer src=https://googoo-s.github.io/js/popover.aa9bc99c7c38d3ae9538f218f1416adb.min.js></script>
<script defer src=https://googoo-s.github.io/js/code-title.ce4a43f09239a9efb48fee342e8ef2df.min.js></script>
<script defer src=https://googoo-s.github.io/js/clipboard.2913da76d3cb21c5deaa4bae7da38c9f.min.js></script>
<script defer src=https://googoo-s.github.io/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const SEARCH_ENABLED=!1,LATEX_ENABLED=!0,PRODUCTION=!0,BASE_URL="https://googoo-s.github.io/",fetchData=Promise.all([fetch("https://googoo-s.github.io/indices/linkIndex.26897e4d1acf67c094aa607e8f2e6316.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://googoo-s.github.io/indices/contentIndex.92cc52296bd1606a8c5ed81d9f8f33a2.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://googoo-s.github.io",!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!1;drawGraph("https://googoo-s.github.io",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}var i=document.getElementsByClassName("mermaid");i.length>0&&import("https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs").then(e=>{e.default.init()});function a(n){const e=n.target,t=e.className.split(" "),s=t.includes("broken"),o=t.includes("internal-link");plausible("Link Click",{props:{href:e.href,broken:s,internal:o,graph:!1}})}const r=document.querySelectorAll("a");for(link of r)link.className.includes("root-title")&&link.addEventListener("click",a,{once:!0})},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'’':"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/googoo-s.github.io\/js\/router.d6fe6bd821db9ea97f9aeefae814d8e7.min.js"
    attachSPARouting(init, render)
  </script><script defer data-domain=googoo-s.github.io src=https://plausible.io/js/script.js></script>
<script>window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script></head><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://googoo-s.github.io/js/full-text-search.e6e2e0c213187ca0c703d6e2c7a77fcd.min.js></script><div class=singlePage><header><h1 id=page-title><a class=root-title href=https://googoo-s.github.io/>googoo-s</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><p class=meta>Last updated
Unknown</p><ul class=tags></ul><aside class=mainTOC><details open><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#定义变量>定义变量</a></li><li><a href=#变量赋值>变量赋值</a></li><li><a href=#引用变量>引用变量</a></li><li><a href=#删除变量>删除变量</a></li><li><a href=#变量类型>变量类型</a></li></ol><ol><li><a href=#单引号>单引号</a></li><li><a href=#双引号>双引号</a></li></ol><ol><li><a href=#定义数组>定义数组</a></li><li><a href=#读取数组>读取数组</a></li><li><a href=#获取数组长度>获取数组长度</a></li><li><a href=#关联数组>关联数组</a></li></ol><ol><li><a href=#单行注释>单行注释</a></li></ol><ol><li><ol><li><a href=#显示普通字符串><strong>显示普通字符串:</strong></a></li><li><a href=#显示转义字符><strong>显示转义字符</strong></a></li><li><a href=#显示变量><strong>显示变量</strong></a></li><li><a href=#显示换行><strong>显示换行</strong></a></li><li><a href=#显示不换行><strong>显示不换行</strong></a></li><li><a href=#显示结果定向至文件><strong>显示结果定向至文件</strong></a></li><li><a href=#原样输出字符串不进行转义或取变量用单引号><strong>原样输出字符串，不进行转义或取变量(用单引号)</strong></a></li><li><a href=#显示命令执行结果><strong>显示命令执行结果</strong></a></li></ol></li></ol><ol><li><a href=#算数运算符>算数运算符</a></li><li><a href=#关系运算符>关系运算符</a></li><li><a href=#布尔运算符>布尔运算符</a></li><li><a href=#逻辑运算符>逻辑运算符</a></li><li><a href=#字符串运算符>字符串运算符</a></li><li><a href=#文件测试运算符>文件测试运算符</a></li></ol><ol><li><a href=#一个脚本例子>一个脚本例子</a></li><li><a href=#脚本参数>脚本参数</a></li><li><a href=#脚本的返回代码>脚本的返回代码</a></li><li><a href=#运行shell-脚本>运行Shell 脚本</a></li></ol><ol><li><a href=#函数参数>函数参数</a></li></ol><ol><li><a href=#数值判断>数值判断</a><ol><li><a href=#文本判断>文本判断</a></li></ol></li><li><a href=#文件状态判断>文件状态判断</a></li><li><a href=#与或非>与或非</a></li></ol><ol><li><a href=#if-fi>if-fi</a></li><li><a href=#if---else-fi>if - else-fi</a></li><li><a href=#case>case</a></li><li><a href=#文本标签>文本标签</a></li></ol><ol><li><a href=#while>while</a></li><li><a href=#for>for</a></li><li><a href=#无限循环><strong>无限循环</strong></a></li><li><a href=#until-循环>until 循环</a></li><li><a href=#break>break</a></li><li><a href=#continue>continue</a></li></ol></nav></details></aside><a href=#shell-综述><h1 id=shell-综述><span class=hanchor arialabel=Anchor># </span>Shell 综述</h1></a><p>所谓的Shell，就是运行在终端中的文本互动程序。Shell分析你的文本输入，然后把文本转换成相应的计算机动作。</p><p>在后面的内容中，我将用$来表示Linux系统Shell的命令提示符。比如说输入date命令：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>date</span>
</span></span></code></pre></td></tr></table></div></div><p>date用于日期时间的相关功能。敲击回车键Enter后，Shell会显示出系统当前的时间。</p><p>shell是Unix体系下的文本交互界面。你只需要用键盘来输入文本，就可以和操作系统交互。但这还是不够具体。说到底，Shell其实是一个运行着的程序。这个程序接收到你按下回车键之间的输入，就会对输入的文本进行分析。比如下面这个命令：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>free</span> <span class=o>-</span><span class=nx>h</span>
</span></span></code></pre></td></tr></table></div></div><p>包括空格在内总共7个字符。Shell程序会通过空格，区分出命令的不同部分</p><ul><li><p>第一个部分是命令名。</p></li><li><p>剩下的部分是选项和参数。</p></li></ul><p>在这个例子中，Shell会进一步分析第二个部分，发现这一部分的开头是"-&ldquo;字符，从而知道它是一个选项。</p><p>有了命令名，Shell下一步就要执行该命令名对应的动作。这听起来就像是在戏剧舞台上，演员按照脚本演戏。Shell命令可以分为如下三类：</p><ul><li><p>Shell内建函数（built-in function）</p><ul><li>Shell的内建函数是Shell自带的功能，</li></ul></li><li><p>可执行文件（executable file）</p><ul><li><p>可执行文件是保存在Shell之外的脚本，提供了额外的功能</p></li><li><p>Shell必须在系统中找到对应命令名的可执行文件，才能正确执行。</p><ul><li><p>我们可以用绝对路径来告诉Shell可执行文件所在的位置。</p></li><li><p>如果用户只是给出了命令名，而没有给出准确的位置，那么Shell必须自行搜索一些特殊的位置，也就是所谓的默认路径。</p><ul><li><p>Shell会执行第一个名字和命令名相同的可执行文件。这就相当于，Shell帮我们自动补齐了可执行文件的位置信息。</p></li><li><p>我们可以通过which命令，来确定命令名对应的是哪个可执行文件：</p></li></ul></li></ul></li></ul></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>which</span> <span class=nx>date</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p>别名（alias）</p><ul><li>别名是给某个命令一个简称，以后在Shell中就可以通过这个简称来调用对应的命令。在Shell中，我们可以用alias来定义别名：</li></ul></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>alias</span> <span class=nx>freak</span><span class=p>=</span><span class=s>&#34;free -h&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>我们可以通过type命令来了解命令的类型</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=kd>type</span> <span class=nx>date</span>
</span></span><span class=line><span class=cl><span class=err>$</span><span class=kd>type</span> <span class=nx>pwd</span>
</span></span></code></pre></td></tr></table></div></div><a href=#shell的选择><h1 id=shell的选择><span class=hanchor arialabel=Anchor># </span>Shell的选择</h1></a><p>Shell是文本解释器程序的统称，所以包括了不止一种Shell。常见的Shell有sh、bash、ksh、rsh、csh等</p><blockquote><p>sh的全名是Bourne Shell。名字中的玻恩就是这个Shell的作者。</p><p>bash的全名是Bourne Again Shell</p></blockquote><p>可以使用下面的命令查看sh 的版本</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>echo</span> <span class=err>$</span><span class=nx>SHELL</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p>echo用于在终端打印出文本。</p></li><li><p>而$是一个新的Shell特殊符号。它提示Shell，后面跟随的不是一般的文本，而是用于存储数据的变量。</p></li></ul><p>可以使用下面的命令更换shell</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span> <span class=nx>chsh</span> <span class=o>-</span><span class=nx>s</span> <span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>csh</span> <span class=c1>//改变当前设置为 /bin/csh
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>Changing</span> <span class=nx>shell</span> <span class=k>for</span> <span class=nx>root</span><span class=p>.</span>
</span></span><span class=line><span class=cl><span class=nx>Shell</span> <span class=nx>not</span> <span class=nx>changed</span><span class=p>.</span>
</span></span></code></pre></td></tr></table></div></div><a href=#命令的选项和参数><h1 id=命令的选项和参数><span class=hanchor arialabel=Anchor># </span>命令的选项和参数</h1></a><p>一行命令里还可以包含着选项和参数。总的来说，</p><ul><li><p>选项用于控制命令的行为，</p></li><li><p>而参数说明了命令的作用对象。</p></li></ul><p>比如说：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>uname</span> <span class=o>-</span><span class=nx>m</span>
</span></span></code></pre></td></tr></table></div></div><p>选项-m影响了命令uname的行为，导致uname输出了树莓派的CPU型号。如果不是该选项的影响，uname输出的将是"Linux&rdquo;。</p><ul><li>由一个"-&ldquo;引领一个英文字母，这成为短选项。多个短选项的字母可以合在一起，跟在同一个&rdquo;-&ldquo;后面。比如，下面的两个命令就等价：</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>uname</span> <span class=o>-</span><span class=nx>m</span> <span class=o>-</span><span class=nx>r</span>
</span></span><span class=line><span class=cl><span class=err>$</span><span class=nx>uname</span> <span class=o>-</span><span class=nx>mr</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>此外还有一种长选项，是用&rdquo;&ndash;&ldquo;引领一整个英文单词</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>date</span> <span class=o>--</span><span class=nx>version</span>
</span></span></code></pre></td></tr></table></div></div><p>有的时候，选项也会携带变量</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Bash data-lang=Bash><span class=line><span class=cl><span class=nv>$sudo</span> date --set<span class=o>=</span><span class=s2>&#34;1999-01-01 08:00:00&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>值得注意的是，Shell对空格敏感。<strong>当一整个参数信息中包含了空格时，我们需要用引号把参数包裹起来</strong>，以便Shell能识别出这是一个整体。</p><a href=#变量><h1 id=变量><span class=hanchor arialabel=Anchor># </span>变量</h1></a><p>我们可以通过变量名来引用变量中保持的数据。借助变量，程序员可以复用出现过的数据。<strong>Bash中也有变量，但Bash的变量只能存储文本。</strong></p><a href=#定义变量><h2 id=定义变量><span class=hanchor arialabel=Anchor># </span>定义变量</h2></a><p>定义变量时，变量名不加美元符号</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>your_name</span><span class=p>=</span><span class=s>&#34;a.com&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>变量的命名规则</p><ul><li><p>命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。</p></li><li><p>中间不能有空格，可以使用下划线 <strong>_</strong>。</p></li><li><p>不能使用标点符号。</p></li><li><p>不能使用bash里的关键字（可用help命令查看保留关键字）</p></li></ul><a href=#变量赋值><h2 id=变量赋值><span class=hanchor arialabel=Anchor># </span>变量赋值</h2></a><ul><li>用“=”来表示赋值</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=kd>var</span><span class=p>=</span><span class=nx>World</span>
</span></span></code></pre></td></tr></table></div></div><p>就是把文本World存入名为var的变量，即赋值。根据Bash的语法，<strong>赋值符号“=”的前后不留空格</strong>。赋值号右边的文本内容会存入赋值号左边的变量。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>your_name</span><span class=p>=</span><span class=s>&#34;tom&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=err>$</span><span class=nx>your_name</span>
</span></span><span class=line><span class=cl><span class=nx>your_name</span><span class=p>=</span><span class=s>&#34;alibaba&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=err>$</span><span class=nx>your_name</span>
</span></span><span class=line><span class=cl><span class=nx>但注意</span><span class=err>，</span><span class=nx>第二次赋值的时候不能写</span><span class=err>$</span><span class=nx>your_name</span><span class=p>=</span><span class=s>&#34;alibaba&#34;</span><span class=err>，</span><span class=nx>使用变量的时候才加美元符</span><span class=err>（$）。</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>如果文本中包含空格，那么你可以用单引号或双引号来包裹文本</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=kd>var</span><span class=p>=</span><span class=err>&#39;</span><span class=nx>abc</span> <span class=nx>bcd</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>或者</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span><span class=p>=</span><span class=s>&#34;abc bcd&#34;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>可以把一个命令输出的文本直接赋予给一个变量，借助``符号，date命令的输出存入了变量now</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>now</span><span class=p>=</span><span class=s>`date`</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>我们还可以把一个变量中的数据赋值给另一个变量：</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>another</span><span class=p>=</span><span class=err>$</span><span class=kd>var</span>
</span></span></code></pre></td></tr></table></div></div><a href=#引用变量><h2 id=引用变量><span class=hanchor arialabel=Anchor># </span>引用变量</h2></a><p>在Bash中，<strong>所谓的引用变量就是把变量翻译成变量中存储的文本，使用变量时，需要加美元符</strong></p><ul><li>我们可以用$var的方式来引用变量。</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=kd>var</span><span class=p>=</span><span class=nx>World</span>
</span></span><span class=line><span class=cl><span class=err>$</span><span class=nx>echo</span> <span class=err>$</span><span class=kd>var</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>在Bash中，你还可以在一段文本中嵌入变量。Bash也会把变量替换成变量中保存的文本</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>echo</span> <span class=nx>Hello</span><span class=err>$</span><span class=kd>var</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>为了避免变量名和尾随的普通文本混淆，我们也可以换用${}的方式来标识变量</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>echo</span> <span class=err>$</span><span class=nx>varIsGood</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>由于Bash中并没有varIsGood这个变量</span><span class=err>，</span><span class=nx>所以Bash将打印空白行</span><span class=err>。</span><span class=nx>但如果将命令改为</span><span class=err>：</span>
</span></span><span class=line><span class=cl><span class=err>$</span><span class=nx>echo</span> <span class=err>$</span><span class=p>{</span><span class=kd>var</span><span class=p>}</span><span class=nx>IsGood</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>Bash通过</span><span class=err>$</span><span class=p>{}</span><span class=nx>识别出变量var</span><span class=err>，</span><span class=nx>并把它替换成数据</span><span class=err>。</span><span class=nx>最终echo命令打印出WorldIsGood</span><span class=err>。</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p>在Bash中，为了把一段包含空格的文本当做单一参数，就需要用到单引号或双引号。</p><ul><li><strong>你可以在双引号中使用变量</strong>。</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>echo</span> <span class=s>&#34;Hello $var&#34;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>Bash会忽视单引号中的变量引用，所以单引号中的变量名只会被当做普通文本</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>echo</span> <span class=err>&#39;</span><span class=nx>Hello</span> <span class=err>$</span><span class=kd>var</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>将打印Hello</span> <span class=err>$</span><span class=kd>var</span><span class=err>。</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><a href=#删除变量><h2 id=删除变量><span class=hanchor arialabel=Anchor># </span>删除变量</h2></a><p>使用 unset 命令可以删除变量。语法：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>unset</span> <span class=nx>variable_name</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>myUrl</span><span class=p>=</span><span class=s>&#34;https://www.runoob.com&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>unset</span> <span class=nx>myUrl</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=err>$</span><span class=nx>myUrl</span>
</span></span></code></pre></td></tr></table></div></div><a href=#变量类型><h2 id=变量类型><span class=hanchor arialabel=Anchor># </span>变量类型</h2></a><ul><li><p><strong>1) 局部变量</strong> 局部变量在脚本或命令中定义，仅在当前shell实例中有效，其他shell启动的程序不能访问局部变量。</p></li><li><p><strong>2) 环境变量</strong> 所有的程序，包括shell启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候shell脚本也可以定义环境变量。</p></li><li><p><strong>3) shell变量</strong> shell变量是由shell程序设置的特殊变量。shell变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了shell的正常运行</p></li></ul><a href=#字符串><h1 id=字符串><span class=hanchor arialabel=Anchor># </span>字符串</h1></a><p>字符串是shell编程中最常用最有用的数据类型（除了数字和字符串，也没啥其它类型好用了），</p><ul><li><p>字符串可以用单引号，</p></li><li><p>也可以用双引号，</p></li><li><p>也可以不用引号。</p></li></ul><a href=#单引号><h2 id=单引号><span class=hanchor arialabel=Anchor># </span>单引号</h2></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>str</span><span class=p>=</span><span class=err>&#39;</span><span class=nx>this</span> <span class=nx>is</span> <span class=nx>a</span> <span class=kt>string</span><span class=err>&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>单引号字符串的限制：</p><ul><li><p>单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的；</p></li><li><p>单引号字串中不能出现单独一个的单引号（对单引号使用转义符后也不行），但可成对出现，作为字符串拼接使用。</p></li></ul><a href=#双引号><h2 id=双引号><span class=hanchor arialabel=Anchor># </span>双引号</h2></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>your_name</span><span class=p>=</span><span class=s>&#34;runoob&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>str</span><span class=p>=</span><span class=s>&#34;Hello, I know you are \&#34;$your_name\&#34;! \n&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=o>-</span><span class=nx>e</span> <span class=err>$</span><span class=nx>str</span>
</span></span></code></pre></td></tr></table></div></div><p>双引号的优点：</p><ol><li><p>双引号里可以有变量</p></li><li><p>双引号里可以出现转义字符</p></li></ol><ul><li><strong>拼接字符串</strong></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>your_name</span><span class=p>=</span><span class=s>&#34;runoob&#34;</span>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>使用双引号拼接</span>
</span></span><span class=line><span class=cl><span class=nx>greeting</span><span class=p>=</span><span class=s>&#34;hello, &#34;</span><span class=err>$</span><span class=nx>your_name</span><span class=s>&#34; !&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>greeting_1</span><span class=p>=</span><span class=s>&#34;hello, ${your_name} !&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=err>$</span><span class=nx>greeting</span>  <span class=err>$</span><span class=nx>greeting_1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>使用单引号拼接</span>
</span></span><span class=line><span class=cl><span class=nx>greeting_2</span><span class=p>=</span><span class=err>&#39;</span><span class=nx>hello</span><span class=p>,</span> <span class=err>&#39;$</span><span class=nx>your_name</span><span class=err>&#39;</span> <span class=p>!</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl><span class=nx>greeting_3</span><span class=p>=</span><span class=err>&#39;</span><span class=nx>hello</span><span class=p>,</span> <span class=err>$</span><span class=p>{</span><span class=nx>your_name</span><span class=p>}</span> <span class=p>!</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=err>$</span><span class=nx>greeting_2</span>  <span class=err>$</span><span class=nx>greeting_3</span>
</span></span></code></pre></td></tr></table></div></div><p>输出</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>hello</span><span class=p>,</span> <span class=nx>runoob</span> <span class=p>!</span> <span class=nx>hello</span><span class=p>,</span> <span class=nx>runoob</span> <span class=p>!</span>
</span></span><span class=line><span class=cl><span class=nx>hello</span><span class=p>,</span> <span class=nx>runoob</span> <span class=p>!</span> <span class=nx>hello</span><span class=p>,</span> <span class=err>$</span><span class=p>{</span><span class=nx>your_name</span><span class=p>}</span> <span class=p>!</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>获取字符串长度</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=kt>string</span><span class=p>=</span><span class=s>&#34;abcd&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=err>$</span><span class=p>{</span><span class=err>#</span><span class=kt>string</span><span class=p>}</span>   <span class=err>#</span> <span class=nx>输出</span> <span class=mi>4</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>提取子字符串</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=kt>string</span><span class=p>=</span><span class=s>&#34;runoob is a great site&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=err>$</span><span class=p>{</span><span class=kt>string</span><span class=p>:</span><span class=mi>1</span><span class=p>:</span><span class=mi>4</span><span class=p>}</span> <span class=err>#</span> <span class=nx>输出</span> <span class=nx>unoo</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>查找字符串</li></ul><p>查找字符 <strong>i</strong> 或 <strong>o</strong> 的位置(哪个字母先出现就计算哪个)：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=kt>string</span><span class=p>=</span><span class=s>&#34;runoob is a great site&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=s>`expr index &#34;$string&#34; io`</span>  <span class=err>#</span> <span class=nx>输出</span> <span class=mi>4</span>
</span></span></code></pre></td></tr></table></div></div><a href=#数组><h1 id=数组><span class=hanchor arialabel=Anchor># </span>数组</h1></a><p><strong>bash支持一维数组（不支持多维数组），并且没有限定数组的大小。</strong></p><p><strong>数组元素的下标由 0 开始编号</strong>。获取数组中的元素要利用下标，<strong>下标可以是整数或算术表达式</strong>，其值应大于或等于 0</p><a href=#定义数组><h2 id=定义数组><span class=hanchor arialabel=Anchor># </span>定义数组</h2></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>数组名</span><span class=p>=(</span><span class=nx>值1</span> <span class=nx>值2</span> <span class=o>...</span> <span class=nx>值n</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>array_name</span><span class=p>=(</span><span class=nx>value0</span> <span class=nx>value1</span> <span class=nx>value2</span> <span class=nx>value3</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>或者</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>array_name</span><span class=p>=(</span>
</span></span><span class=line><span class=cl><span class=nx>value0</span>
</span></span><span class=line><span class=cl><span class=nx>value1</span>
</span></span><span class=line><span class=cl><span class=nx>value2</span>
</span></span><span class=line><span class=cl><span class=nx>value3</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>或者</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>array_name</span><span class=p>[</span><span class=mi>0</span><span class=p>]=</span><span class=nx>value0</span>
</span></span><span class=line><span class=cl><span class=nx>array_name</span><span class=p>[</span><span class=mi>1</span><span class=p>]=</span><span class=nx>value1</span>
</span></span><span class=line><span class=cl><span class=nx>array_name</span><span class=p>[</span><span class=nx>n</span><span class=p>]=</span><span class=nx>valuen</span>
</span></span></code></pre></td></tr></table></div></div><a href=#读取数组><h2 id=读取数组><span class=hanchor arialabel=Anchor># </span>读取数组</h2></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=p>{</span><span class=nx>数组名</span><span class=p>[</span><span class=nx>下标</span><span class=p>]}</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>valuen</span><span class=p>=</span><span class=err>$</span><span class=p>{</span><span class=nx>array_name</span><span class=p>[</span><span class=nx>n</span><span class=p>]}</span>
</span></span></code></pre></td></tr></table></div></div><p>使用 <strong>@</strong> 符号可以获取数组中的所有元素</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>echo</span> <span class=err>$</span><span class=p>{</span><span class=nx>array_name</span><span class=p>[</span><span class=err>@</span><span class=p>]}</span>
</span></span></code></pre></td></tr></table></div></div><a href=#获取数组长度><h2 id=获取数组长度><span class=hanchor arialabel=Anchor># </span>获取数组长度</h2></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span> <span class=nx>取得数组元素的个数</span>
</span></span><span class=line><span class=cl><span class=nx>length</span><span class=p>=</span><span class=err>$</span><span class=p>{</span><span class=err>#</span><span class=nx>array_name</span><span class=p>[</span><span class=err>@</span><span class=p>]}</span>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>或者</span>
</span></span><span class=line><span class=cl><span class=nx>length</span><span class=p>=</span><span class=err>$</span><span class=p>{</span><span class=err>#</span><span class=nx>array_name</span><span class=p>[</span><span class=o>*</span><span class=p>]}</span>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>取得数组单个元素的长度</span>
</span></span><span class=line><span class=cl><span class=nx>lengthn</span><span class=p>=</span><span class=err>$</span><span class=p>{</span><span class=err>#</span><span class=nx>array_name</span><span class=p>[</span><span class=nx>n</span><span class=p>]}</span>
</span></span></code></pre></td></tr></table></div></div><a href=#关联数组><h2 id=关联数组><span class=hanchor arialabel=Anchor># </span>关联数组</h2></a><p>Bash 支持关联数组，可以使用任意的字符串、或者整数作为下标来访问数组元素。<strong>-A</strong> 选项就是用于声明一个关联数组。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>declare</span> <span class=o>-</span><span class=nx>A</span> <span class=nx>array_name</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>关联数组的键是唯一的。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>declare</span> <span class=o>-</span><span class=nx>A</span> <span class=nx>site</span><span class=p>=([</span><span class=s>&#34;google&#34;</span><span class=p>]=</span><span class=s>&#34;www.google.com&#34;</span> <span class=p>[</span><span class=s>&#34;runoob&#34;</span><span class=p>]=</span><span class=s>&#34;www.runoob.com&#34;</span> <span class=p>[</span><span class=s>&#34;taobao&#34;</span><span class=p>]=</span><span class=s>&#34;www.taobao.com&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>或者</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>declare</span> <span class=o>-</span><span class=nx>A</span> <span class=nx>site</span>
</span></span><span class=line><span class=cl><span class=nx>site</span><span class=p>[</span><span class=s>&#34;google&#34;</span><span class=p>]=</span><span class=s>&#34;www.google.com&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>site</span><span class=p>[</span><span class=s>&#34;runoob&#34;</span><span class=p>]=</span><span class=s>&#34;www.runoob.com&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>site</span><span class=p>[</span><span class=s>&#34;taobao&#34;</span><span class=p>]=</span><span class=s>&#34;www.taobao.com&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=s>&#34;数组的键为: ${!site[*]}&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=s>&#34;数组的键为: ${!site[@]}&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>输出</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>数组的键为</span><span class=p>:</span> <span class=nx>google</span> <span class=nx>runoob</span> <span class=nx>taobao</span>
</span></span><span class=line><span class=cl><span class=nx>数组的键为</span><span class=p>:</span> <span class=nx>google</span> <span class=nx>runoob</span> <span class=nx>taobao</span>
</span></span></code></pre></td></tr></table></div></div><a href=#注释><h1 id=注释><span class=hanchor arialabel=Anchor># </span>注释</h1></a><a href=#单行注释><h2 id=单行注释><span class=hanchor arialabel=Anchor># </span>单行注释</h2></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=o>--------------------------------------------</span>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>这是一个注释</span>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>author</span><span class=err>：</span><span class=nx>菜鸟教程</span>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>site</span><span class=err>：</span><span class=nx>www</span><span class=p>.</span><span class=nx>runoob</span><span class=p>.</span><span class=nx>com</span>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>slogan</span><span class=err>：</span><span class=nx>学的不仅是技术</span><span class=err>，</span><span class=nx>更是梦想</span><span class=err>！</span>
</span></span><span class=line><span class=cl><span class=err>#</span><span class=o>--------------------------------------------</span>
</span></span><span class=line><span class=cl><span class=err>#####</span> <span class=nx>用户配置区</span> <span class=nx>开始</span> <span class=err>#####</span>
</span></span><span class=line><span class=cl><span class=err>#</span>
</span></span><span class=line><span class=cl><span class=err>#</span>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>这里可以添加脚本描述信息</span>
</span></span><span class=line><span class=cl><span class=err>#</span>
</span></span><span class=line><span class=cl><span class=err>#</span>
</span></span><span class=line><span class=cl><span class=err>#####</span> <span class=nx>用户配置区</span> <span class=nx>结束</span>  <span class=err>#####</span>
</span></span></code></pre></td></tr></table></div></div><p>多行注释</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=p>:</span><span class=o>&lt;&lt;</span><span class=nx>EOF</span>
</span></span><span class=line><span class=cl><span class=nx>注释内容</span><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=nx>注释内容</span><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=nx>注释内容</span><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=nx>EOF</span>
</span></span></code></pre></td></tr></table></div></div><p>或者</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=p>:</span><span class=o>&lt;&lt;</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl><span class=nx>注释内容</span><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=nx>注释内容</span><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=nx>注释内容</span><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=err>&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=o>&lt;&lt;</span><span class=p>!</span>
</span></span><span class=line><span class=cl><span class=nx>注释内容</span><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=nx>注释内容</span><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=nx>注释内容</span><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=p>!</span>
</span></span></code></pre></td></tr></table></div></div><a href=#echo><h1 id=echo><span class=hanchor arialabel=Anchor># </span>Echo</h1></a><p>Shell 的 echo 指令与 PHP 的 echo 指令类似，都是用于字符串的输出。命令格式：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>echo</span> <span class=kt>string</span>
</span></span></code></pre></td></tr></table></div></div><p>您可以使用echo实现更复杂的输出格式控制。</p><a href=#显示普通字符串><h3 id=显示普通字符串><span class=hanchor arialabel=Anchor># </span><strong>显示普通字符串:</strong></h3></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>echo</span> <span class=s>&#34;It is a test&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>这里的双引号完全可以省略，以下命令与上面实例效果一致：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>echo</span> <span class=nx>It</span> <span class=nx>is</span> <span class=nx>a</span> <span class=nx>test</span>
</span></span></code></pre></td></tr></table></div></div><a href=#显示转义字符><h3 id=显示转义字符><span class=hanchor arialabel=Anchor># </span><strong>显示转义字符</strong></h3></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>echo</span> <span class=s>&#34;\&#34;It is a test\&#34;&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>结果将是:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=s>&#34;It is a test&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>同样，双引号也可以省略</p><a href=#显示变量><h3 id=显示变量><span class=hanchor arialabel=Anchor># </span><strong>显示变量</strong></h3></a><p>read 命令从标准输入中读取一行,并把输入行的每个字段的值指定给 shell 变量</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>sh</span>
</span></span><span class=line><span class=cl><span class=nx>read</span> <span class=nx>name</span> 
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=s>&#34;$name It is a test&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>以上代码保存为 test.sh，name 接收标准输入的变量，结果将是:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=p>[</span><span class=nx>root</span><span class=err>@</span><span class=nx>www</span> <span class=err>~</span><span class=p>]</span><span class=err>#</span> <span class=nx>sh</span> <span class=nx>test</span><span class=p>.</span><span class=nx>sh</span>
</span></span><span class=line><span class=cl><span class=nx>OK</span>                     <span class=err>#</span><span class=nx>标准输入</span>
</span></span><span class=line><span class=cl><span class=nx>OK</span> <span class=nx>It</span> <span class=nx>is</span> <span class=nx>a</span> <span class=nx>test</span>        <span class=err>#</span><span class=nx>输出</span>
</span></span></code></pre></td></tr></table></div></div><a href=#显示换行><h3 id=显示换行><span class=hanchor arialabel=Anchor># </span><strong>显示换行</strong></h3></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=o>-</span><span class=nx>e</span> <span class=s>&#34;OK! \n&#34;</span> <span class=err>#</span> <span class=o>-</span><span class=nx>e</span> <span class=nx>开启转义</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=s>&#34;It is a test&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>输出结果：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>OK</span><span class=p>!</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>It</span> <span class=nx>is</span> <span class=nx>a</span> <span class=nx>test</span>
</span></span></code></pre></td></tr></table></div></div><a href=#显示不换行><h3 id=显示不换行><span class=hanchor arialabel=Anchor># </span><strong>显示不换行</strong></h3></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>sh</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=o>-</span><span class=nx>e</span> <span class=s>&#34;OK! \c&#34;</span> <span class=err>#</span> <span class=o>-</span><span class=nx>e</span> <span class=nx>开启转义</span> <span class=err>\</span><span class=nx>c</span> <span class=nx>不换行</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=s>&#34;It is a test&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>输出结果：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>OK</span><span class=p>!</span> <span class=nx>It</span> <span class=nx>is</span> <span class=nx>a</span> <span class=nx>test</span>
</span></span></code></pre></td></tr></table></div></div><a href=#显示结果定向至文件><h3 id=显示结果定向至文件><span class=hanchor arialabel=Anchor># </span><strong>显示结果定向至文件</strong></h3></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>echo</span> <span class=s>&#34;It is a test&#34;</span> <span class=p>&gt;</span> <span class=nx>myfile</span>
</span></span></code></pre></td></tr></table></div></div><a href=#原样输出字符串不进行转义或取变量用单引号><h3 id=原样输出字符串不进行转义或取变量用单引号><span class=hanchor arialabel=Anchor># </span><strong>原样输出字符串，不进行转义或取变量(用单引号)</strong></h3></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>echo</span> <span class=err>&#39;$</span><span class=nx>name</span><span class=err>\&#34;&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>输出结果：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>name</span><span class=err>\&#34;</span>
</span></span></code></pre></td></tr></table></div></div><a href=#显示命令执行结果><h3 id=显示命令执行结果><span class=hanchor arialabel=Anchor># </span><strong>显示命令执行结果</strong></h3></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>echo</span> <span class=s>`date`</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>注意：</strong> 这里使用的是反引号 <strong>`</strong>, 而不是单引号 <strong>&rsquo;</strong>。</p><p>结果将显示当前日期</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>Wed</span> <span class=nx>Apr</span> <span class=mi>5</span> <span class=mo>00</span><span class=p>:</span><span class=mi>52</span><span class=p>:</span><span class=mi>17</span> <span class=nx>CST</span> <span class=mi>2023</span>
</span></span></code></pre></td></tr></table></div></div><a href=#数学运算><h1 id=数学运算><span class=hanchor arialabel=Anchor># </span>数学运算</h1></a><ul><li>在Bash中，数字和运算符都被当做普通文本。<strong>所以你无法像C语言一样便捷地进行数学运算</strong>。比如执行下面的命令</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>result</span><span class=p>=</span><span class=mi>1</span><span class=o>+</span><span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=err>$</span><span class=nx>echo</span> <span class=err>$</span><span class=nx>result</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>Bash并不会进行任何运算</span><span class=err>。</span><span class=nx>它只会打印文本</span><span class=err>“</span><span class=mi>1</span><span class=o>+</span><span class=mi>2</span><span class=err>”。</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>在Bash中，<strong>你还可以通过$(())语法来进行数值运算</strong>。在双括号中你可以放入整数的加减乘除表达式。Bash会对其中的内容进行数值运算。比如</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>echo</span> <span class=err>$</span><span class=p>((</span><span class=mi>2</span> <span class=o>+</span> <span class=p>(</span><span class=mi>5</span><span class=o>*</span><span class=mi>2</span><span class=p>)))</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>在$(())中，你也可以使用变量</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=kd>var</span><span class=p>=</span><span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=err>$</span><span class=nx>echo</span> <span class=err>$</span><span class=p>((</span><span class=err>$</span><span class=kd>var</span> <span class=o>+</span> <span class=p>(</span><span class=mi>5</span><span class=o>*</span><span class=mi>2</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>将打印运算结果11</span><span class=err>。</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>可以把数学运算的结果存入变量</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>result</span><span class=p>=</span><span class=err>$</span><span class=p>((</span> <span class=mi>1</span> <span class=o>+</span> <span class=mi>2</span> <span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><a href=#运算符-expr和表达式><h1 id=运算符-expr和表达式><span class=hanchor arialabel=Anchor># </span>运算符-expr和**$((表达式))**</h1></a><p>**原生bash不支持简单的数学运算，**但是可以通过其他命令来实现，例如 awk 和 expr，expr 最常用。</p><ul><li><p>expr 是一款表达式计算工具，使用它能完成表达式的求值操作。</p></li><li><p>在 MAC 中 shell 的 expr 语法是：<strong>$((表达式))</strong></p></li><li><p>注意点</p><ul><li><p>表<strong>达式和运算符之间要有空</strong>格，例如 2+2 是不对的，必须写成 2 + 2，这与我们熟悉的大多数编程语言不一样。</p></li><li><p><strong>完整的表达式要被 `` 包含</strong>，注意这个字符不是常用的单引号，在 Esc 键下边。</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>val</span><span class=p>=</span><span class=s>`expr 2 + 2`</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=s>&#34;两数之和为 : $val&#34;</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><a href=#算数运算符><h2 id=算数运算符><span class=hanchor arialabel=Anchor># </span>算数运算符</h2></a><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>运算符</td><td>说明</td><td>举例</td></tr><tr><td>+</td><td>加法</td><td><code>expr $a + $b</code> 结果为 30。</td></tr><tr><td>-</td><td>减法</td><td><code>expr $a - $b</code> 结果为 -10。</td></tr><tr><td>*</td><td>乘法</td><td><code>expr $a \* $b</code> 结果为 200。</td></tr><tr><td>/</td><td>除法</td><td><code>expr $b / $a</code> 结果为 2。</td></tr><tr><td>%</td><td>取余</td><td><code>expr $b % $a</code> 结果为 0。</td></tr><tr><td>=</td><td>赋值</td><td>a=$b 把变量 b 的值赋给 a。</td></tr><tr><td>==</td><td>相等。用于比较两个数字，相同则返回 true。</td><td>[ $a == $b ] 返回 false。</td></tr><tr><td>!=</td><td>不相等。用于比较两个数字，不相同则返回 true。</td><td>[ $a != $b ] 返回 true。</td></tr></tbody></table><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>author</span><span class=p>:</span><span class=nx>菜鸟教程</span>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>url</span><span class=p>:</span><span class=nx>www</span><span class=p>.</span><span class=nx>runoob</span><span class=p>.</span><span class=nx>com</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>a</span><span class=p>=</span><span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=nx>b</span><span class=p>=</span><span class=mi>20</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>val</span><span class=p>=</span><span class=s>`expr $a + $b`</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=s>&#34;a + b : $val&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>val</span><span class=p>=</span><span class=s>`expr $a - $b`</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=s>&#34;a - b : $val&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>val</span><span class=p>=</span><span class=s>`expr $a \* $b`</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=s>&#34;a * b : $val&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>val</span><span class=p>=</span><span class=s>`expr $b / $a`</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=s>&#34;b / a : $val&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>val</span><span class=p>=</span><span class=s>`expr $b % $a`</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=s>&#34;b % a : $val&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=err>$</span><span class=nx>a</span> <span class=o>==</span> <span class=err>$</span><span class=nx>b</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;a 等于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=err>$</span><span class=nx>a</span> <span class=o>!=</span> <span class=err>$</span><span class=nx>b</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;a 不等于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span></code></pre></td></tr></table></div></div><p>注意</p><ul><li><p>乘号(*)前边必须加反斜杠()才能实现乘法运算；</p></li><li><p>在 MAC 中 shell 的 expr 语法是：<strong>$((表达式))</strong>，此处表达式中的 &ldquo;*&rdquo; 不需要转义符号 &ldquo;" 。</p></li></ul><a href=#关系运算符><h2 id=关系运算符><span class=hanchor arialabel=Anchor># </span>关系运算符</h2></a><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>运算符</td><td>说明</td><td>举例</td></tr><tr><td>-eq</td><td>检测两个数是否相等，相等返回 true。</td><td>[ $a -eq $b ] 返回 false。</td></tr><tr><td>-ne</td><td>检测两个数是否不相等，不相等返回 true。</td><td>[ $a -ne $b ] 返回 true。</td></tr><tr><td>-gt</td><td>检测左边的数是否大于右边的，如果是，则返回 true。</td><td>[ $a -gt $b ] 返回 false。</td></tr><tr><td>-lt</td><td>检测左边的数是否小于右边的，如果是，则返回 true。</td><td>[ $a -lt $b ] 返回 true。</td></tr><tr><td>-ge</td><td>检测左边的数是否大于等于右边的，如果是，则返回 true。</td><td>[ $a -ge $b ] 返回 false。</td></tr><tr><td>-le</td><td>检测左边的数是否小于等于右边的，如果是，则返回 true。</td><td>[ $a -le $b ] 返回 true。</td></tr></tbody></table><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>author</span><span class=p>:</span><span class=nx>菜鸟教程</span>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>url</span><span class=p>:</span><span class=nx>www</span><span class=p>.</span><span class=nx>runoob</span><span class=p>.</span><span class=nx>com</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>a</span><span class=p>=</span><span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=nx>b</span><span class=p>=</span><span class=mi>20</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=err>$</span><span class=nx>a</span> <span class=o>-</span><span class=nx>eq</span> <span class=err>$</span><span class=nx>b</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a -eq $b : a 等于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a -eq $b: a 不等于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=err>$</span><span class=nx>a</span> <span class=o>-</span><span class=nx>ne</span> <span class=err>$</span><span class=nx>b</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a -ne $b: a 不等于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a -ne $b : a 等于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=err>$</span><span class=nx>a</span> <span class=o>-</span><span class=nx>gt</span> <span class=err>$</span><span class=nx>b</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a -gt $b: a 大于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a -gt $b: a 不大于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=err>$</span><span class=nx>a</span> <span class=o>-</span><span class=nx>lt</span> <span class=err>$</span><span class=nx>b</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a -lt $b: a 小于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a -lt $b: a 不小于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=err>$</span><span class=nx>a</span> <span class=o>-</span><span class=nx>ge</span> <span class=err>$</span><span class=nx>b</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a -ge $b: a 大于或等于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a -ge $b: a 小于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=err>$</span><span class=nx>a</span> <span class=o>-</span><span class=nx>le</span> <span class=err>$</span><span class=nx>b</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a -le $b: a 小于或等于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a -le $b: a 大于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span></code></pre></td></tr></table></div></div><a href=#布尔运算符><h2 id=布尔运算符><span class=hanchor arialabel=Anchor># </span>布尔运算符</h2></a><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>运算符</td><td>说明</td><td>举例</td></tr><tr><td>!</td><td>非运算，表达式为 true 则返回 false，否则返回 true。</td><td>[ ! false ] 返回 true。</td></tr><tr><td>-o</td><td>或运算，有一个表达式为 true 则返回 true。</td><td>[ $a -lt 20 -o $b -gt 100 ] 返回 true。</td></tr><tr><td>-a</td><td>与运算，两个表达式都为 true 才返回 true。</td><td>[ $a -lt 20 -a $b -gt 100 ] 返回 false。</td></tr></tbody></table><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>author</span><span class=p>:</span><span class=nx>菜鸟教程</span>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>url</span><span class=p>:</span><span class=nx>www</span><span class=p>.</span><span class=nx>runoob</span><span class=p>.</span><span class=nx>com</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>a</span><span class=p>=</span><span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=nx>b</span><span class=p>=</span><span class=mi>20</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=err>$</span><span class=nx>a</span> <span class=o>!=</span> <span class=err>$</span><span class=nx>b</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a != $b : a 不等于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a == $b: a 等于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=err>$</span><span class=nx>a</span> <span class=o>-</span><span class=nx>lt</span> <span class=mi>100</span> <span class=o>-</span><span class=nx>a</span> <span class=err>$</span><span class=nx>b</span> <span class=o>-</span><span class=nx>gt</span> <span class=mi>15</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a 小于 100 且 $b 大于 15 : 返回 true&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a 小于 100 且 $b 大于 15 : 返回 false&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=err>$</span><span class=nx>a</span> <span class=o>-</span><span class=nx>lt</span> <span class=mi>100</span> <span class=o>-</span><span class=nx>o</span> <span class=err>$</span><span class=nx>b</span> <span class=o>-</span><span class=nx>gt</span> <span class=mi>100</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a 小于 100 或 $b 大于 100 : 返回 true&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a 小于 100 或 $b 大于 100 : 返回 false&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=err>$</span><span class=nx>a</span> <span class=o>-</span><span class=nx>lt</span> <span class=mi>5</span> <span class=o>-</span><span class=nx>o</span> <span class=err>$</span><span class=nx>b</span> <span class=o>-</span><span class=nx>gt</span> <span class=mi>100</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a 小于 5 或 $b 大于 100 : 返回 true&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a 小于 5 或 $b 大于 100 : 返回 false&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span></code></pre></td></tr></table></div></div><a href=#逻辑运算符><h2 id=逻辑运算符><span class=hanchor arialabel=Anchor># </span>逻辑运算符</h2></a><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>运算符</td><td>说明</td><td>举例</td></tr><tr><td>&&</td><td>逻辑的 AND</td><td>[[ $a -lt 100 && $b -gt 100 ]] 返回 false</td></tr><tr><td>|</td><td>逻辑的 OR</td><td>[[ $a -lt 100 | $b -gt 100 ]] 返回 true</td></tr></tbody></table><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>author</span><span class=p>:</span><span class=nx>菜鸟教程</span>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>url</span><span class=p>:</span><span class=nx>www</span><span class=p>.</span><span class=nx>runoob</span><span class=p>.</span><span class=nx>com</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>a</span><span class=p>=</span><span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=nx>b</span><span class=p>=</span><span class=mi>20</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p><a class="internal-link broken">span> <span class=p></a></span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;返回 true&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;返回 false&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p><a class="internal-link broken">span> <span class=o></a></span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;返回 true&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;返回 false&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span></code></pre></td></tr></table></div></div><a href=#字符串运算符><h2 id=字符串运算符><span class=hanchor arialabel=Anchor># </span>字符串运算符</h2></a><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>运算符</td><td>说明</td><td>举例</td></tr><tr><td>=</td><td>检测两个字符串是否相等，相等返回 true。</td><td>[ $a = $b ] 返回 false。</td></tr><tr><td>!=</td><td>检测两个字符串是否不相等，不相等返回 true。</td><td>[ $a != $b ] 返回 true。</td></tr><tr><td>-z</td><td>检测字符串长度是否为0，为0返回 true。</td><td>[ -z $a ] 返回 false。</td></tr><tr><td>-n</td><td>检测字符串长度是否不为 0，不为 0 返回 true。</td><td>[ -n &ldquo;$a&rdquo; ] 返回 true。</td></tr><tr><td>$</td><td>检测字符串是否不为空，不为空返回 true。</td><td>[ $a ] 返回 true。</td></tr></tbody></table><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>author</span><span class=p>:</span><span class=nx>菜鸟教程</span>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>url</span><span class=p>:</span><span class=nx>www</span><span class=p>.</span><span class=nx>runoob</span><span class=p>.</span><span class=nx>com</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>a</span><span class=p>=</span><span class=s>&#34;abc&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>b</span><span class=p>=</span><span class=s>&#34;efg&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=err>$</span><span class=nx>a</span> <span class=p>=</span> <span class=err>$</span><span class=nx>b</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a = $b : a 等于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a = $b: a 不等于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=err>$</span><span class=nx>a</span> <span class=o>!=</span> <span class=err>$</span><span class=nx>b</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a != $b : a 不等于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a != $b: a 等于 b&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=o>-</span><span class=nx>z</span> <span class=err>$</span><span class=nx>a</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;-z $a : 字符串长度为 0&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;-z $a : 字符串长度不为 0&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=o>-</span><span class=nx>n</span> <span class=s>&#34;$a&#34;</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;-n $a : 字符串长度不为 0&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;-n $a : 字符串长度为 0&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=err>$</span><span class=nx>a</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a : 字符串不为空&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;$a : 字符串为空&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span></code></pre></td></tr></table></div></div><a href=#文件测试运算符><h2 id=文件测试运算符><span class=hanchor arialabel=Anchor># </span>文件测试运算符</h2></a><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>b file</td><td>检测文件是否是块设备文件，如果是，则返回 true。</td><td>[ -b $file ] 返回 false。</td></tr><tr><td>-c file</td><td>检测文件是否是字符设备文件，如果是，则返回 true。</td><td>[ -c $file ] 返回 false。</td></tr><tr><td>-d file</td><td>检测文件是否是目录，如果是，则返回 true。</td><td>[ -d $file ] 返回 false。</td></tr><tr><td>-f file</td><td>检测文件是否是普通文件（既不是目录，也不是设备文件），如果是，则返回 true。</td><td>[ -f $file ] 返回 true。</td></tr><tr><td>-g file</td><td>检测文件是否设置了 SGID 位，如果是，则返回 true。</td><td>[ -g $file ] 返回 false。</td></tr><tr><td>-k file</td><td>检测文件是否设置了粘着位(Sticky Bit)，如果是，则返回 true。</td><td>[ -k $file ] 返回 false。</td></tr><tr><td>-p file</td><td>检测文件是否是有名管道，如果是，则返回 true。</td><td>[ -p $file ] 返回 false。</td></tr><tr><td>-u file</td><td>检测文件是否设置了 SUID 位，如果是，则返回 true。</td><td>[ -u $file ] 返回 false。</td></tr><tr><td>-r file</td><td>检测文件是否可读，如果是，则返回 true。</td><td>[ -r $file ] 返回 true。</td></tr><tr><td>-w file</td><td>检测文件是否可写，如果是，则返回 true。</td><td>[ -w $file ] 返回 true。</td></tr><tr><td>-x file</td><td>检测文件是否可执行，如果是，则返回 true。</td><td>[ -x $file ] 返回 true。</td></tr><tr><td>-s file</td><td>检测文件是否为空（文件大小是否大于0），不为空返回 true。</td><td>[ -s $file ] 返回 true。</td></tr><tr><td>-e file</td><td>检测文件（包括目录）是否存在，如果是，则返回 true。</td><td>[ -e $file ] 返回 true。</td></tr></tbody></table><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>author</span><span class=p>:</span><span class=nx>菜鸟教程</span>
</span></span><span class=line><span class=cl><span class=err>#</span> <span class=nx>url</span><span class=p>:</span><span class=nx>www</span><span class=p>.</span><span class=nx>runoob</span><span class=p>.</span><span class=nx>com</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>file</span><span class=p>=</span><span class=s>&#34;/var/www/runoob/test.sh&#34;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=o>-</span><span class=nx>r</span> <span class=err>$</span><span class=nx>file</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;文件可读&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;文件不可读&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=o>-</span><span class=nx>w</span> <span class=err>$</span><span class=nx>file</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;文件可写&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;文件不可写&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=o>-</span><span class=nx>x</span> <span class=err>$</span><span class=nx>file</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;文件可执行&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;文件不可执行&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=o>-</span><span class=nx>f</span> <span class=err>$</span><span class=nx>file</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;文件为普通文件&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;文件为特殊文件&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=o>-</span><span class=nx>d</span> <span class=err>$</span><span class=nx>file</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;文件是个目录&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;文件不是个目录&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=o>-</span><span class=nx>s</span> <span class=err>$</span><span class=nx>file</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;文件不为空&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;文件为空&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=o>-</span><span class=nx>e</span> <span class=err>$</span><span class=nx>file</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>then</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;文件存在&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;文件不存在&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span></code></pre></td></tr></table></div></div><a href=#返回代码><h1 id=返回代码><span class=hanchor arialabel=Anchor># </span>返回代码</h1></a><p>Linux中，每个可执行程序会有一个整数的返回代码。按照Linux惯例，当程序正常运行完毕并返回时，将返回整数0。</p><p>比如foo.c</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>(</span><span class=nx>void</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=nx>a</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=nx>c</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>a</span> <span class=p>=</span> <span class=mi>6</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>b</span> <span class=p>=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>c</span> <span class=p>=</span> <span class=mi>6</span><span class=o>/</span><span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>这段程序可以正常运行。因此，它将在最后一句执行return语句，程序的返回代码是0</p><ul><li>在Shell中，我们运行了程序后，<strong>可以通过$?变量来获知返回码</strong></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>gcc</span> <span class=nx>foo</span><span class=p>.</span><span class=nx>c</span>
</span></span><span class=line><span class=cl><span class=err>$</span><span class=p>.</span><span class=o>/</span><span class=nx>a</span><span class=p>.</span><span class=nx>out</span>
</span></span><span class=line><span class=cl><span class=err>$</span><span class=nx>echo</span> <span class=err>$?</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>如果一个程序运行异常，那么这个程序将返回非0的返回代码。比如删除一个不存在的文件：</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>rm</span> <span class=nx>none_exist</span><span class=p>.</span><span class=nx>file</span>
</span></span><span class=line><span class=cl><span class=err>$</span><span class=nx>echo</span> <span class=err>$?</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p>在Linux中，可以在一个行命令中执行多个程序</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>touch</span> <span class=nx>demo</span><span class=p>.</span><span class=nx>file</span><span class=p>;</span> <span class=nx>ls</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p><strong>我们可以让后一个程序的运行参考前一个程序的返回代码。比如说，只有前一个程序返回成功代码0，才让后一个程序运行：可以改写为</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>rm</span> <span class=nx>demo</span><span class=p>.</span><span class=nx>file</span> <span class=o>&amp;&amp;</span> <span class=nx>echo</span> <span class=s>&#34;rm succeed&#34;</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>还有一种情况，<strong>是等到前一个程序失败了，才运行后一个程序</strong></p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>rm</span> <span class=nx>demo</span><span class=p>.</span><span class=nx>file</span> <span class=o>||</span> <span class=nx>echo</span> <span class=s>&#34;rm fail&#34;</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><a href=#bash-脚本><h1 id=bash-脚本><span class=hanchor arialabel=Anchor># </span>Bash 脚本</h1></a><p>你还可以把多行的Bash命令写入一个文件，成为所谓的Bash脚本，当Bash脚本执行时，Shell将逐行执行脚本中的命令。</p><a href=#一个脚本例子><h2 id=一个脚本例子><span class=hanchor arialabel=Anchor># </span>一个脚本例子</h2></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=nx>Hello</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=nx>World</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p>脚本的第一行说明了该脚本使用的Shell，即/bin/bash路径的Bash程序</p></li><li><p>脚本正文是两行echo命令，两行命令将按照由上至下的顺序依次执行</p></li></ul><p>运行脚本的方式和运行可执行程序的方式类似，都是：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=p>.</span><span class=o>/</span><span class=nx>hello_world</span><span class=p>.</span><span class=nx>bash</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>如果用户不具有执行Bash脚本文件的权限，那么他将无法执行Bash脚本。此时，用户必须更换文件权限，或者以其他身份登录，才能执行脚本。</p></blockquote><p>Bash脚本是一种复用代码的方式。我们看一个简单的Bash脚本<strong>hw_info.bash</strong>，它将计算机的信息存入到名为log的文件中：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=s>&#34;Information of Vamei&#39;s computer:&#34;</span> <span class=p>&gt;</span> <span class=nx>log</span>
</span></span><span class=line><span class=cl><span class=nx>lscpu</span> <span class=o>&gt;&gt;</span> <span class=nx>log</span>
</span></span><span class=line><span class=cl><span class=nx>uname</span> <span class=err>–</span><span class=nx>a</span> <span class=o>&gt;&gt;</span> <span class=nx>log</span>
</span></span><span class=line><span class=cl><span class=nx>free</span> <span class=err>–</span><span class=nx>h</span> <span class=o>&gt;&gt;</span> <span class=nx>log</span>
</span></span></code></pre></td></tr></table></div></div><a href=#脚本参数><h2 id=脚本参数><span class=hanchor arialabel=Anchor># </span>脚本参数</h2></a><p>和可执行程序类似，Bash脚本运行时，也可以携带参数。这些<strong>参数可以在Bash脚本中以变量的形式使用</strong>。</p><p>在Bash中，<strong>你可以用$0、$1、$2……的方式，来获得Bash脚本运行时的参数</strong></p><p>比如</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=err>$</span><span class=mi>0</span> 
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=err>$</span><span class=mi>1</span> 
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=err>$</span><span class=mi>2</span>
</span></span></code></pre></td></tr></table></div></div><p>我们用下面的方式运行Bash脚本：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=p>.</span><span class=o>/</span><span class=nx>test_arg</span><span class=p>.</span><span class=nx>bash</span> <span class=nx>hello</span> <span class=nx>world</span>
</span></span></code></pre></td></tr></table></div></div><p>$0是命令的第一部分，也就是./test_arg.bash。$1代表了参数hello，而$2代表了参数world。因此，上面程序将打印：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=p>.</span><span class=o>/</span><span class=nx>test_arg</span><span class=p>.</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=nx>hello</span>
</span></span><span class=line><span class=cl><span class=nx>world</span>
</span></span></code></pre></td></tr></table></div></div><p>如果变更参数，同一段脚本将有不同的行为。这大大提高了Bash脚本的灵活性。上面的hw_info.bash脚本中，我们把输出文件名写死成log</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=s>&#34;Information of Vamei&#39;s computer:&#34;</span> <span class=p>&gt;</span> <span class=err>$</span><span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=nx>lscpu</span> <span class=o>&gt;&gt;</span> <span class=err>$</span><span class=mi>1</span> 
</span></span><span class=line><span class=cl><span class=nx>uname</span> <span class=err>–</span><span class=nx>a</span> <span class=o>&gt;&gt;</span> <span class=err>$</span><span class=mi>1</span> 
</span></span><span class=line><span class=cl><span class=nx>free</span> <span class=err>–</span><span class=nx>h</span> <span class=o>&gt;&gt;</span> <span class=err>$</span><span class=mi>1</span>
</span></span></code></pre></td></tr></table></div></div><p>可以这样执行代码</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=p>.</span><span class=o>/</span><span class=nx>hw_info</span><span class=p>.</span><span class=nx>bash</span> <span class=nx>output</span><span class=p>.</span><span class=nx>file</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p>脚本内获取参数的格式为：<strong>$n</strong>。<strong>n</strong> 代表一个数字，1 为执行脚本的第一个参数，2 为执行脚本的第二个参数，以此类推……</p></li><li><p>另外，还有几个特殊字符用来处理参数：</p></li></ul><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>参数处理</td><td>说明</td></tr><tr><td>$#</td><td>传递到脚本的参数个数</td></tr><tr><td>$*</td><td>以一个单字符串显示所有向脚本传递的参数。<br>如&rdquo;$*&ldquo;用「"」括起来的情况、以&rdquo;$1 $2 … $n"的形式输出所有参数。</td></tr><tr><td>$$</td><td>脚本运行的当前进程ID号</td></tr><tr><td>$!</td><td>后台运行的最后一个进程的ID号</td></tr><tr><td>$@</td><td>与$*相同，但是使用时加引号，并在引号中返回每个参数。<br>如&rdquo;$@&ldquo;用「"」括起来的情况、以&rdquo;$1" &ldquo;$2&rdquo; … &ldquo;$n&rdquo; 的形式输出所有参数。</td></tr><tr><td>$-</td><td>显示Shell使用的当前选项，与
<a href=https://www.runoob.com/linux/linux-comm-set.html rel=noopener>set命令</a>功能相同。</td></tr><tr><td>$?</td><td>显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。</td></tr></tbody></table><p>$* 与 $@ 区别：</p><ul><li><p>相同点：都是引用所有参数。</p></li><li><p>不同点：只有在双引号中体现出来。假设在脚本运行时写了三个参数 1、2、3，，则 " * " 等价于 &ldquo;1 2 3&rdquo;（传递了一个参数），而 &ldquo;@&rdquo; 等价于 &ldquo;1&rdquo; &ldquo;2&rdquo; &ldquo;3&rdquo;（传递了三个参数）。</p></li></ul><a href=#脚本的返回代码><h2 id=脚本的返回代码><span class=hanchor arialabel=Anchor># </span>脚本的返回代码</h2></a><p>和可执行程序类似，脚本也可以有返回代码。还是按照惯例，脚本正常退出时返回代码0在脚本的末尾，<strong>我们可以用exit命令来设置脚本的返回代码</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=nx>Hello</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=nx>World</span>
</span></span><span class=line><span class=cl><span class=nx>exit</span> <span class=mi>0</span>
</span></span></code></pre></td></tr></table></div></div><p>其实在脚本的末尾加一句exit 0并不必要。一个脚本如果正常运行完最后一句，会自动的返回代码0。</p><p>在脚本运行后，我们可以通过$?变量查询脚本的返回代码</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=p>.</span><span class=o>/</span><span class=nx>hello_world</span><span class=p>.</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=err>$</span><span class=nx>echo</span> <span class=err>$?</span>
</span></span></code></pre></td></tr></table></div></div><p>如果在脚本中部出现exit命令，脚本会直接在这一行停止，并返回该exit命令给出的返回代码</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=nx>hello</span>
</span></span><span class=line><span class=cl><span class=nx>exit</span> <span class=mi>1</span> <span class=nx>echo</span> <span class=nx>world</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>不会打印</span> <span class=nx>world</span>
</span></span></code></pre></td></tr></table></div></div><a href=#运行shell-脚本><h2 id=运行shell-脚本><span class=hanchor arialabel=Anchor># </span>运行Shell 脚本</h2></a><p><strong>1、作为可执行程序</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>chmod</span> <span class=o>+</span><span class=nx>x</span> <span class=p>.</span><span class=o>/</span><span class=nx>test</span><span class=p>.</span><span class=nx>sh</span>  <span class=err>#</span><span class=nx>使脚本具有执行权限</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=o>/</span><span class=nx>test</span><span class=p>.</span><span class=nx>sh</span>  <span class=err>#</span><span class=nx>执行脚本</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>2、作为解释器参数</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>sh</span> <span class=nx>test</span><span class=p>.</span><span class=nx>sh</span>
</span></span><span class=line><span class=cl><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>php</span> <span class=nx>test</span><span class=p>.</span><span class=nx>php</span>
</span></span></code></pre></td></tr></table></div></div><a href=#函数><h1 id=函数><span class=hanchor arialabel=Anchor># </span>函数</h1></a><p>在Bash中，脚本和函数有很多相似的地方。</p><ul><li><p>脚本实现了一整个脚本文件的程序复用，</p></li><li><p>而函数复用了脚本内部的部分程序。</p></li></ul><p>在定义函数时，我们需要花括号来标识函数包括的部分：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=nx>function</span> <span class=nf>my_info</span> <span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=nx>lscpu</span> <span class=o>&gt;&gt;</span> <span class=nx>log</span>
</span></span><span class=line><span class=cl>  <span class=nx>uname</span> <span class=err>–</span><span class=nx>a</span> <span class=o>&gt;&gt;</span> <span class=nx>log</span>
</span></span><span class=line><span class=cl>  <span class=nx>free</span> <span class=err>–</span><span class=nx>h</span> <span class=o>&gt;&gt;</span> <span class=nx>log</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>my_info</span>
</span></span></code></pre></td></tr></table></div></div><p>需要强调的是，<strong>函数定义只是食谱，并没有转化成具体的动作</strong>。脚本的最后一行是在调用函数。只有通过函数调用，函数内包含的命令才能真正执行</p><a href=#函数参数><h2 id=函数参数><span class=hanchor arialabel=Anchor># </span>函数参数</h2></a><p>像脚本一样，函数调用时还可以携带参数。在函数内部，我<strong>们同样可以用$1、$2这种形式的变量来使用参数</strong>：</p><p>当n>=10时，需要使用${n}来获取参数。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=nx>function</span> <span class=nf>my_info</span> <span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=nx>lscpu</span> <span class=o>&gt;&gt;</span> <span class=err>$</span><span class=mi>1</span> 
</span></span><span class=line><span class=cl>  <span class=nx>uname</span> <span class=err>–</span><span class=nx>a</span> <span class=o>&gt;&gt;</span> <span class=err>$</span><span class=mi>1</span> 
</span></span><span class=line><span class=cl>  <span class=nx>free</span> <span class=err>–</span><span class=nx>h</span> <span class=o>&gt;&gt;</span> <span class=err>$</span><span class=mi>1</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>my_info</span> <span class=nx>output</span><span class=p>.</span><span class=nx>file</span>
</span></span><span class=line><span class=cl><span class=nx>my_info</span> <span class=nx>another_output</span><span class=p>.</span><span class=nx>file</span>
</span></span></code></pre></td></tr></table></div></div><p>还有几个特殊字符用来处理参数：</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>$#</td><td>传递到脚本或函数的参数个数</td></tr><tr><td>$*</td><td>以一个单字符串显示所有向脚本传递的参数</td></tr><tr><td>$$</td><td>脚本运行的当前进程ID号</td></tr><tr><td>$!</td><td>后台运行的最后一个进程的ID号</td></tr><tr><td>$@</td><td>与$*相同，但是使用时加引号，并在引号中返回每个参数。</td></tr><tr><td>$-</td><td>显示Shell使用的当前选项，与set命令功能相同。</td></tr><tr><td>$?</td><td>显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。</td></tr></tbody></table><a href=#跨脚本调用><h1 id=跨脚本调用><span class=hanchor arialabel=Anchor># </span>跨脚本调用</h1></a><p>在Bash中<strong>使用source命令，可以实现函数的跨脚本调用</strong>。<strong>命令source的作用是在同一个进程中执行另一个文件中的Bash脚本</strong></p><p>比如说，有两个脚本，my_info.bash和app.bash。脚本my_info.sh中的内容是：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=nx>function</span> <span class=nf>my_info</span> <span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=nx>lscpu</span> <span class=o>&gt;&gt;</span> <span class=err>$</span><span class=mi>1</span> 
</span></span><span class=line><span class=cl>  <span class=nx>uname</span> <span class=err>–</span><span class=nx>a</span> <span class=o>&gt;&gt;</span> <span class=err>$</span><span class=mi>1</span> 
</span></span><span class=line><span class=cl>  <span class=nx>free</span> <span class=err>–</span><span class=nx>h</span> <span class=o>&gt;&gt;</span> <span class=err>$</span><span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>脚本app.bash中的内容是：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=nx>source</span> <span class=nx>my_info</span><span class=p>.</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=nx>my_info</span> <span class=nx>output</span><span class=p>.</span><span class=nx>file</span>
</span></span></code></pre></td></tr></table></div></div><a href=#逻辑判断><h1 id=逻辑判断><span class=hanchor arialabel=Anchor># </span>逻辑判断</h1></a><p>Bash除了可以进行数值运算，还可以进行逻辑判断。逻辑判断是决定某个说法的真假。逻辑判断就是对一个说法判断真假。<strong>在Bash中，我们可以用test命令来进行逻辑判断</strong>：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>$</span><span class=nx>test</span> <span class=mi>3</span> <span class=o>-</span><span class=nx>gt</span> <span class=mi>2</span><span class=p>;</span> <span class=nx>echo</span> <span class=err>$?</span>
</span></span></code></pre></td></tr></table></div></div><p>命令test后面跟有一个判断表达式，其中的-gt表示大于，即greater than。</p><a href=#数值判断><h2 id=数值判断><span class=hanchor arialabel=Anchor># </span>数值判断</h2></a><p>数值大小和相等关系的判断，是最常见的逻辑判断。除了上面的大于和小于判断，我们还可以进行以下的数值判断：</p><ul><li><p>等于： $test 3 -eq 3; echo $?</p></li><li><p>不等于： $test 3 -ne 1; echo $?</p></li><li><p>大于等于： $test 5 -ge 2; echo $?</p></li><li><p>小于等于： $test 3 -le 1; echo $?</p></li><li><p>大于：$test 3 -gt 2; echo $?</p></li><li><p>小于：$test 3 -lt 2; echo $</p></li></ul><a href=#文本判断><h3 id=文本判断><span class=hanchor arialabel=Anchor># </span>文本判断</h3></a><p>Bash中最常见的数据形式是文本，因此也提供了很多关于文本的判断：</p><ul><li><p>文本相同: $test abc = abx; echo $?</p></li><li><p>文本不同： $test abc != abx; echo $?</p></li><li><p>按照词典顺序，一个文本在另一个文本之前： $test apple > tea; echo $?</p></li><li><p>按照词典顺序，一个文本在另一个文本之后： $test apple &lt; tea; echo $?</p></li></ul><a href=#文件状态判断><h2 id=文件状态判断><span class=hanchor arialabel=Anchor># </span>文件状态判断</h2></a><ul><li><p>检查一个文件是否存在： $test –e a.out; echo $?</p></li><li><p>检查一个文件是否存在，而且是普通文件： $test –f file.txt; echo $?</p></li><li><p>检查一个文件是否存在，而且是目录文件： $test –d myfiles; echo $?</p></li><li><p>检查一个文件是否存在，而且是软连接： $test –L a.out; echo $?</p></li><li><p>检查一个文件是否可读： $test –r file.txt; echo $?</p></li><li><p>检查一个文件是否可写： $test –w file.txt; echo $?</p></li><li><p>检查一个文件是否可执行： $test –x file.txt; echo $?</p></li></ul><a href=#与或非><h2 id=与或非><span class=hanchor arialabel=Anchor># </span>与或非</h2></a><ul><li>非，与expression的真假相反：</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Plain data-lang=Plain><span class=line><span class=cl>! expression
</span></span></code></pre></td></tr></table></div></div><ul><li>与，必须expression1和expression2都为真时，结果才为真：</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Plain data-lang=Plain><span class=line><span class=cl>expression1 –a expression2
</span></span></code></pre></td></tr></table></div></div><ul><li>或，只要expression1和expression2的一个为真时，结果就为真：</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Plain data-lang=Plain><span class=line><span class=cl>expression1 –o expression2
</span></span></code></pre></td></tr></table></div></div><a href=#选择结构><h1 id=选择结构><span class=hanchor arialabel=Anchor># </span>选择结构</h1></a><p>选择结构是一种语法结构，可以让程序根据条件决定执行哪一部分的指令，我们可以根据条件来决定是否执行某一部分程序，比如下面的demo_if.bash脚本</p><a href=#if-fi><h2 id=if-fi><span class=hanchor arialabel=Anchor># </span>if-fi</h2></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=kd>var</span><span class=p>=</span><span class=s>`whoami`</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=err>$</span><span class=kd>var</span> <span class=p>=</span> <span class=s>&#34;root&#34;</span> <span class=p>]</span><span class=nx>then</span>   
</span></span><span class=line><span class=cl>  <span class=nx>echo</span> <span class=s>&#34;You are root&#34;</span>   
</span></span><span class=line><span class=cl>  <span class=nx>echo</span> <span class=s>&#34;You are my God.&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>fi</span>
</span></span></code></pre></td></tr></table></div></div><a href=#if---else-fi><h2 id=if---else-fi><span class=hanchor arialabel=Anchor># </span>if - else-fi</h2></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=nx>filename</span><span class=p>=</span><span class=err>$</span><span class=mi>1</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>[</span> <span class=o>-</span><span class=nx>e</span> <span class=err>$</span><span class=nx>filename</span> <span class=p>]</span><span class=nx>then</span>   
</span></span><span class=line><span class=cl>  <span class=nx>echo</span> <span class=s>&#34;$filename exists&#34;</span> 
</span></span><span class=line><span class=cl><span class=k>else</span>   
</span></span><span class=line><span class=cl>  <span class=nx>echo</span> <span class=s>&#34;$filename NOT exists&#34;</span> 
</span></span><span class=line><span class=cl><span class=nx>fi</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=s>&#34;The End&#34;</span>
</span></span></code></pre></td></tr></table></div></div><a href=#case><h2 id=case><span class=hanchor arialabel=Anchor># </span>case</h2></a><p>在Bash下，我们还可以用case语法来实现多程序块的选择执行。比如下面的脚本demo_case.bash：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=kd>var</span><span class=p>=</span><span class=s>`whoami`</span>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=s>&#34;You are $var&#34;</span> 
</span></span><span class=line><span class=cl><span class=k>case</span> <span class=err>$</span><span class=kd>var</span> <span class=nx>in</span>
</span></span><span class=line><span class=cl><span class=nx>root</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>echo</span> <span class=s>&#34;You are God.&#34;</span>
</span></span><span class=line><span class=cl><span class=p>;;</span>
</span></span><span class=line><span class=cl><span class=nx>vamei</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>echo</span> <span class=s>&#34;You are a happy user.&#34;</span>
</span></span><span class=line><span class=cl><span class=p>;;</span>
</span></span><span class=line><span class=cl><span class=o>*</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>echo</span> <span class=s>&#34;You are the Others.&#34;</span>
</span></span><span class=line><span class=cl><span class=p>;;</span>
</span></span><span class=line><span class=cl><span class=nx>esac</span>
</span></span></code></pre></td></tr></table></div></div><p>关键字case后面不再是逻辑表达式，<strong>而是一个作为条件的文本</strong>。后面的代码块分为三个部分，<strong>都以文本标签)的形式开始，以;;结束</strong>。在case结构运行时，会逐个检查文本标签。当条件文本和文本标签可以对应上时，Bash就会执行隶属于该文本标签的代码块。</p><p>如果是用户vamei执行该Bash脚本，那么条件文本和vamei标签对应上，脚本就会打印：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>You</span> <span class=nx>are</span> <span class=nx>a</span> <span class=nx>happy</span> <span class=nx>user</span><span class=p>.</span>
</span></span></code></pre></td></tr></table></div></div><a href=#文本标签><h2 id=文本标签><span class=hanchor arialabel=Anchor># </span>文本标签</h2></a><p>注意）</p><p>文本标签除了是一串具体的文本，还可以包含文本通配符。结构case中常用的通配符包括：</p><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td>通配符</td><td>含义</td><td>文本标签例子</td><td>符合条件的文本</td></tr><tr><td>*</td><td>任意文本</td><td>*)</td><td>Xyz, 12a3, …</td></tr><tr><td>?</td><td>任意一个字符</td><td>a?c)</td><td>abc, axc, …</td></tr><tr><td>[]</td><td>范围内一个字符</td><td>[1-5][b-d])</td><td>2b, 3d, …</td></tr></tbody></table><a href=#循环结构><h1 id=循环结构><span class=hanchor arialabel=Anchor># </span>循环结构</h1></a><a href=#while><h2 id=while><span class=hanchor arialabel=Anchor># </span>while</h2></a><ul><li>在while语法中，Bash会循环执行隶属于while的代码块，直到逻辑表达式不成立。比如下面的demo_while.bash</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=nx>now</span><span class=p>=</span><span class=s>`date +&#39;%Y%m%d%H%M&#39;`</span>
</span></span><span class=line><span class=cl><span class=nx>deadline</span><span class=p>=</span><span class=s>`date --date=&#39;1 hour&#39; +&#39;%Y%m%d%H%M&#39;`</span>
</span></span><span class=line><span class=cl><span class=nx>while</span> <span class=p>[</span> <span class=err>$</span><span class=nx>now</span> <span class=o>-</span><span class=nx>lt</span> <span class=err>$</span><span class=nx>deadline</span> <span class=p>]</span><span class=nx>do</span>
</span></span><span class=line><span class=cl>   <span class=nx>date</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=s>&#34;not yet&#34;</span>
</span></span><span class=line><span class=cl>   <span class=nx>sleep</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>   <span class=nx>now</span><span class=p>=</span><span class=s>`date +&#39;%Y%m%d%H%M&#39;`</span>
</span></span><span class=line><span class=cl><span class=nx>done</span> 
</span></span></code></pre></td></tr></table></div></div><ul><li>如果while的条件始终是真，那么循环会一直进行下去。下面的程序就是以无限循环的形式</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=nx>while</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=nx>do</span>
</span></span><span class=line><span class=cl>  <span class=nx>date</span>
</span></span><span class=line><span class=cl>  <span class=nx>sleep</span> <span class=mi>1</span> 
</span></span><span class=line><span class=cl><span class=nx>done</span>
</span></span></code></pre></td></tr></table></div></div><p>语法while的终止条件是一个逻辑判断。<strong>如果在循环过程中改变逻辑判断的内容，那么我们很难在程序执行之前预判循环进行的次数</strong>。</p><a href=#for><h2 id=for><span class=hanchor arialabel=Anchor># </span>for</h2></a><ul><li>与while语法对应的是for循环。这种语法会在程序进行前确定好循环进行的次数，比如demo_for.bash：</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Bash data-lang=Bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>for</span> var in <span class=sb>`</span>ls log*<span class=sb>`</span>
</span></span><span class=line><span class=cl><span class=k>do</span> 
</span></span><span class=line><span class=cl>  rm <span class=nv>$var</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><p>在这个例子中，命<strong>令ls log*将返回所有以log开头的文件名。这些文件名之间由空格分隔。循环进行时，Bash会依次取出一个文件名，赋值给变量var，并执行do和done之间隶属于for结构的程序块。</strong></p><p>由于ls命令返回的内容在是确定的，因此for循环进行的次数也会在一开始确定下来。</p><ul><li>在for语法中，<strong>我们也可以使用自己构建一个由空格分隔的文本。由空格区分出来的每个子文本会在循环中赋值给变量</strong></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=nx>user</span> <span class=nx>in</span> <span class=nx>vamei</span> <span class=nx>anna</span> <span class=nx>yutian</span>
</span></span><span class=line><span class=cl><span class=nx>do</span>
</span></span><span class=line><span class=cl>    <span class=nx>echo</span> <span class=err>$</span><span class=nx>user</span>
</span></span><span class=line><span class=cl><span class=nx>done</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>for循环还可以和seq命令配合使用。</li></ul><p>命令seq用于生成一个等差的整数序列，命令后面可以跟3个参数，第</p><ul><li><p>一个参数表示整数序列的开始数字，</p></li><li><p>第二个参数表示每次增加多少，</p></li><li><p>最后一个参数表示序列的终点</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Bash data-lang=Bash><span class=line><span class=cl><span class=nv>$seq</span> <span class=m>1</span> <span class=m>2</span> <span class=m>10</span>
</span></span></code></pre></td></tr></table></div></div><p>输出效果为</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=mi>1</span> <span class=mi>3</span> <span class=mi>5</span> <span class=mi>7</span> <span class=mi>9</span>
</span></span></code></pre></td></tr></table></div></div><p>结合for循环和seq命令，我们可以解一些有趣的数学问题。比如高斯求和，是要计算从1到100的所有整数的和</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>total</span><span class=p>=</span><span class=mi>0</span> 
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=nx>number</span> <span class=nx>in</span> <span class=s>`seq 1 1 100`</span>
</span></span><span class=line><span class=cl><span class=nx>do</span> 
</span></span><span class=line><span class=cl>    <span class=nx>total</span><span class=p>=</span><span class=err>$</span><span class=p>((</span> <span class=err>$</span><span class=nx>total</span> <span class=o>+</span> <span class=err>$</span><span class=nx>number</span> <span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nx>done</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=err>$</span><span class=nx>total</span>
</span></span></code></pre></td></tr></table></div></div><a href=#无限循环><h2 id=无限循环><span class=hanchor arialabel=Anchor># </span><strong>无限循环</strong></h2></a><p>无限循环语法格式：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>while</span> <span class=p>:</span>
</span></span><span class=line><span class=cl><span class=nx>do</span>
</span></span><span class=line><span class=cl>    <span class=nx>command</span>
</span></span><span class=line><span class=cl><span class=nx>done</span>
</span></span></code></pre></td></tr></table></div></div><p>或者</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>while</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=nx>do</span>
</span></span><span class=line><span class=cl>    <span class=nx>command</span>
</span></span><span class=line><span class=cl><span class=nx>done</span>
</span></span></code></pre></td></tr></table></div></div><p>或者</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=k>for</span> <span class=p>((</span> <span class=p>;</span> <span class=p>;</span> <span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><a href=#until-循环><h2 id=until-循环><span class=hanchor arialabel=Anchor># </span>until 循环</h2></a><p>until 循环执行一系列命令直至条件为 true 时停止。</p><p>until 循环与 while 循环在处理方式上刚好相反。</p><p>一般 while 循环优于 until 循环，但在某些时候—也只是极少数情况下，until 循环更加有用。</p><p>until 语法格式:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=nx>until</span> <span class=nx>condition</span>
</span></span><span class=line><span class=cl><span class=nx>do</span>
</span></span><span class=line><span class=cl>    <span class=nx>command</span>
</span></span><span class=line><span class=cl><span class=nx>done</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>a</span><span class=p>=</span><span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>until</span> <span class=p>[</span> <span class=p>!</span> <span class=err>$</span><span class=nx>a</span> <span class=o>-</span><span class=nx>lt</span> <span class=mi>10</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>do</span>
</span></span><span class=line><span class=cl>   <span class=nx>echo</span> <span class=err>$</span><span class=nx>a</span>
</span></span><span class=line><span class=cl>   <span class=nx>a</span><span class=p>=</span><span class=s>`expr $a + 1`</span>
</span></span><span class=line><span class=cl><span class=nx>done</span>
</span></span></code></pre></td></tr></table></div></div><a href=#break><h2 id=break><span class=hanchor arialabel=Anchor># </span>break</h2></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>total</span><span class=p>=</span><span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=nx>number</span><span class=p>=</span><span class=mi>1</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>while</span> <span class=p>:</span>
</span></span><span class=line><span class=cl><span class=nx>do</span> 
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>[</span> <span class=err>$</span><span class=nx>number</span> <span class=o>-</span><span class=nx>gt</span> <span class=mi>100</span> <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>then</span>
</span></span><span class=line><span class=cl>      <span class=k>break</span>
</span></span><span class=line><span class=cl>  <span class=nx>fi</span>
</span></span><span class=line><span class=cl>  <span class=nx>total</span><span class=p>=</span><span class=err>$</span><span class=p>((</span> <span class=err>$</span><span class=nx>total</span> <span class=o>+</span> <span class=err>$</span><span class=nx>number</span> <span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=nx>number</span><span class=p>=</span><span class=err>$</span><span class=p>((</span><span class=err>$</span><span class=nx>number</span> <span class=o>+</span> <span class=mi>1</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nx>done</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=err>$</span><span class=nx>total</span>
</span></span></code></pre></td></tr></table></div></div><p>这里break语句的作用是在满足条件时跳出循环。</p><a href=#continue><h2 id=continue><span class=hanchor arialabel=Anchor># </span>continue</h2></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Go data-lang=Go><span class=line><span class=cl><span class=err>#</span><span class=p>!</span><span class=o>/</span><span class=nx>bin</span><span class=o>/</span><span class=nx>bash</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>total</span><span class=p>=</span><span class=mi>0</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=nx>number</span> <span class=nx>in</span> <span class=s>`seq 1 1 100`</span><span class=nx>do</span> 
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>((</span> <span class=err>$</span><span class=nx>number</span> <span class=o>%</span> <span class=mi>3</span> <span class=o>==</span> <span class=mi>0</span> <span class=p>))</span> 
</span></span><span class=line><span class=cl>  <span class=nx>then</span>
</span></span><span class=line><span class=cl>      <span class=k>continue</span>
</span></span><span class=line><span class=cl>  <span class=nx>fi</span>
</span></span><span class=line><span class=cl>  <span class=nx>total</span><span class=p>=</span><span class=err>$</span><span class=p>((</span> <span class=err>$</span><span class=nx>total</span> <span class=o>+</span> <span class=err>$</span><span class=nx>number</span> <span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nx>done</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>echo</span> <span class=err>$</span><span class=nx>total</span>
</span></span></code></pre></td></tr></table></div></div><a href=#输入输出重定向><h1 id=输入输出重定向><span class=hanchor arialabel=Anchor># </span>输入输出重定向</h1></a><p>大多数 UNIX 系统命令从你的终端接受输入并将所产生的输出发送回到您的终端。一个命令通常从一个叫标准输入的地方读取输入，默认情况下，这恰好是你的终端</p><p>重定向命令列表如下：</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>命令</td><td>说明</td></tr><tr><td>command > file</td><td>将输出重定向到 file。</td></tr><tr><td>command &lt; file</td><td>将输入重定向到 file。</td></tr><tr><td>command &#187; file</td><td>将输出以追加的方式重定向到 file。</td></tr><tr><td>n > file</td><td>将文件描述符为 n 的文件重定向到 file。</td></tr><tr><td>n &#187; file</td><td>将文件描述符为 n 的文件以追加的方式重定向到 file。</td></tr><tr><td>n >& m</td><td>将输出文件 m 和 n 合并。</td></tr><tr><td>n &lt;& m</td><td>将输入文件 m 和 n 合并。</td></tr><tr><td>&#171; tag</td><td>将开始标记 tag 和结束标记 tag 之间的内容作为输入。</td></tr></tbody></table><p>一般情况下，每个 Unix/Linux 命令运行时都会打开三个文件：</p><ul><li><p>标准输入文件(stdin)：stdin的文件描述符为0，Unix程序默认从stdin读取数据。</p></li><li><p>标准输出文件(stdout)：stdout 的文件描述符为1，Unix程序默认向stdout输出数据。</p></li><li><p>标准错误文件(stderr)：stderr的文件描述符为2，Unix程序会向stderr流中写入错误信息。</p></li></ul><p>默认情况下，command > file 将 stdout 重定向到 file，command &lt; file 将stdin 重定向到 file。</p><a href=#bash-和c语言><h1 id=bash-和c语言><span class=hanchor arialabel=Anchor># </span>Bash 和C语言</h1></a><p>Bash语言和C语言都是Linux下的常用语言。它们都能通过特定的语法来编写程序，而程序运行后都能实现某些功能。尽管在语法细节上存在差异，但两种语言都有以下语法：</p><ul><li><p>变量：在内存中储存数据</p></li><li><p>循环结构：重复执行代码块</p></li><li><p>选择结构：根据条件执行代码块</p></li><li><p>函数：复用代码块</p></li></ul><p>Bash和C的相似性，也来自于它们共同遵守的编程范式——面向过程编程。支持面向过程编程的语言，一<strong>般都会提供类似于函数的代码封装方式</strong></p><p>我们还应该注意到Bash和C程序的区别</p><ul><li><p>Bash的变量只能是文本类型，C的变量却可以有整数、浮点数、字符等类型。</p></li><li><p>Bash的很多功能，如加减乘除运算，都是调用其他程序实现的。而C直接就可以进行加减乘除运算。</p></li></ul><p>**另一方面，Bash是一个Shell。它本质上是一个命令解释器程序，而不是编程语言。**用户可以通过命令行的方式，来调用该程序的某些功能。所谓的Bash编程，只是命令解释器程序提供的一种互动方法。Bash脚本只能和Bash进程互动。它不能像C语言一样，直接调用CPU的功能。因此，Bash能实现的功能会受限，运行速度上也比不上可执行文件。</p><p>但另一反面，Bash脚本也有它的好处。 C语言能接触到很底层的东西，但使用起来也很复杂。有时候，即使你已经知道如何用C实现一个功能，写代码依然是一个很繁琐的过程。Bash正相反。<strong>由于Bash可以便捷地调用已有的程序，因此很多工作可以用数行的脚本解决</strong>。此外，Bash脚本不需要编辑，就可以由Bash进程理解并执行。因此，开发Bash脚本比写C程序要快很多。Linux的系统运维工作，如定期备份、文件系统管理等，就经常使用到Bash脚本。总之，Bash编程知识是晋级为资深Linux用户的必要条件。</p></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li>No backlinks found</li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://googoo-s.github.io/js/graph.6579af7b10c818dbd2ca038702db0224.js></script></div></div><div id=contact_buttons><footer><p>Made by googoo-s using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, © 2023</p><ul><li><a href=https://googoo-s.github.io/>Home</a></li><li><a href=https://github.com/googoo-s>GitHub</a></li></ul></footer></div></div></body></html>